# VKinder

VKinder — это бот для ВКонтакте, выполняющий функции сервиса знакомств. Он позволяет пользователям искать людей на основе заданных критериев, получать информацию о пользователях и добавлять их в избранное.

## Описание

Бот позволяет пользователям взаимодействовать через сообщения в группе ВКонтакте. Пользователи могут задавать параметры поиска (пол, возраст и город) и получать информацию о подходящих пользователях, включая их фотографии и ссылки на профили.

## Установка

Для запуска бота следуйте этим шагам:

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/leadertv/vkinder-bot.git
   ```
   
2. Перейдите в директорию проекта:
   ```bash
   cd vkinder
   ```
   
3. Установите необходимые библиотеки:
   ```bash
   pip3 install -r requirements.txt
   ```

4. Создайте файл `.env` в корне проекта и добавьте свои токены и данные для подключения к базе данных:
   ```
   TOKEN=vk.1234567890abcd # ваш_токен_группы
   USER_TOKEN=vk1.a.123123123 # ваш_личный_токен
   GROUP_ID=1234567 # ваш_ID_группы
   DB_URL=postgres:// # ваш_URL_базы_данных
   ```

## Структура проекта

```
vk_bot/
├── db/
│   ├── __init__.py           # Инициализация пакета базы данных
│   └── db_helper.py          # Работа с базой данных
├── vk/
│   ├── __init__.py           # Инициализация пакета VK API
│   └── vk_api_helper.py      # Логика работы с VK API
├── main.py                   # Главный код бота
├── .env                      # Конфигурационные данные
└── requirements.txt          # Зависимости проекта
```

## Использование

1. Запустите бота:
   ```bash
   python main.py
   ```

2. Откройте сообщения в своем сообществе ВКонтакте и взаимодействуйте с ботом. 

### Основные команды

- `Начать` — запустить бота и открыть главное меню.
- `Поиск` — начать поиск пользователей.
- `Избранные` — просмотреть список избранных пользователей.
- `Следующий` — показать следующего пользователя.
- `В избранное` — добавить последнего просмотренного пользователя в избранные.
- `Начать заново` — сбросить текущий поиск и начать новый.

## Зависимости

- `vk_api` — библиотека для работы с ВКонтакте API.
- `psycopg2` — библиотека для работы с PostgreSQL.
- `python-dotenv` — позволяет загружать переменные окружения из файла `.env`.
---
# Дополнительная справка
## Получение токена пользователя и токена группы ВКонтакте

### Токен пользователя

1. Перейдите на [сайт управления приложениями ВКонтакте](https://vk.com/dev).
2. Войдите в свою учетную запись ВКонтакте.
3. Нажмите на кнопку "Создать приложение".
4. Заполните необходимые поля и выберите тип приложения "Standalone".
5. После создания приложения перейдите в раздел "Настройки".
6. Найдите строку "Сертификат прав приложения".
7. Используйте следующий формат URL для получения токена:
   ```
   https://oauth.vk.com/authorize?client_id=APP_ID&display=page&redirect_uri=https://oauth.vk.com/blank.html&scope=photos, wall, friends, groups&response_type=token&v=5.131
   ```
   Замените `APP_ID` на ваш ID приложения.
8. Перейдите по этому URL в браузере, разрешите доступ к запрашиваемым правам.
9. После разрешения вы будете перенаправлены на пустую страницу, где в URL будет содержаться ваш токен:
   ```
   access_token=YOUR_USER_TOKEN
   ```

### Токен группы

1. Перейдите на [сайта управления сообществами ВКонтакте](https://vk.com/groups).
2. Выберите нужное сообщество или создайте новое.
3. Перейдите в "Настройки" вашего сообщества.
4. Найдите раздел "Работа с API" и кликните на "Создать ключ доступа".
5. Выберите права, которые нужны боту (например, "messages", "groups", "photos").
6. Нажмите "Сохранить" для создания токена.
7. Скопируйте выданный токен.

> **Примечание:** Храните токены в безопасном месте и не делитесь ими с другими пользователями. И не публикуйте ваши работы с токенами в конфигах. 
---

## Лицензия

Этот проект не лицензирован на условиях MIT License. 
